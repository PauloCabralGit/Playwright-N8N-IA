#!/usr/bin/env python3
"""
Quick Reference - GitHub Actions + N8N + Discord Integration
"""

print("""
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                            โ
โ  โ INTEGRAรรO COMPLETA: GitHub Actions + N8N + Discord                   โ
โ                                                                            โ
โ  Status: ๐ข PRONTO PARA USAR                                              โ
โ                                                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ARQUIVOS CRIADOS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Workflow N8N
   ๐ n8n-workflows/playwright-with-discord.json
   
โ GitHub Actions Workflow  
   ๐ .github/workflows/playwright-via-n8n.yml
   
โ Scripts Setup
   ๐ setup-env.ps1 (Windows)
   ๐ setup-discord.sh (Linux/Mac)
   
โ Documentaรงรฃo
   ๐ DISCORD_SETUP.md
   ๐ N8N_GITHUB_ACTIONS_SETUP.md
   ๐ SETUP_FINAL_CHECKLIST.md


๐ INICIAR AGORA (4 PASSOS)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PASSO 1: Configurar Variรกveis                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                         โ
โ  Windows PowerShell:                                                    โ
โ  $ cd c:\\Projeto_Solar\\Playwright-N8N-IA                              โ
โ  $ .\\setup-env.ps1                                                      โ
โ                                                                         โ
โ  Vocรช serรก solicitado:                                                 โ
โ  - Discord Webhook URL                                                 โ
โ  - N8N Webhook URL                                                     โ
โ  - Salesforce: URL, Login, Password                                    โ
โ                                                                         โ
โ  โ Arquivo .env serรก criado automaticamente                            โ
โ                                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PASSO 2: Importar Workflow N8N                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                         โ
โ  1. Abra http://localhost:5678                                         โ
โ  2. Clique em Files (canto superior esquerdo)                          โ
โ  3. Clique em Import                                                   โ
โ  4. Selecione: n8n-workflows/playwright-with-discord.json             โ
โ  5. Clique em Import                                                   โ
โ  6. Clique em ACTIVATE (canto superior direito)                        โ
โ                                                                         โ
โ  โ Workflow estรก ativo e pronto                                        โ
โ                                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PASSO 3: Configurar GitHub Secrets                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                         โ
โ  Seu Repositรณrio GitHub:                                               โ
โ  โ Settings                                                            โ
โ  โ Secrets and variables                                               โ
โ  โ Actions                                                             โ
โ  โ New repository secret                                               โ
โ                                                                         โ
โ  Adicione 5 secrets:                                                   โ
โ                                                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ  โ DISCORD_WEBHOOK_URL                                         โ      โ
โ  โ https://discord.com/api/webhooks/...                       โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค      โ
โ  โ N8N_WEBHOOK_URL                                             โ      โ
โ  โ http://localhost:5678/webhook/github-tests                โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค      โ
โ  โ SF_URL                                                      โ      โ
โ  โ https://...sandbox.lightning.force.com/                   โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค      โ
โ  โ SF_LOGIN                                                    โ      โ
โ  โ seu-email@globalhitss.com.br.preprod                       โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค      โ
โ  โ SF_PASSWORD                                                 โ      โ
โ  โ sua-senha-salesforce                                        โ      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ      โ
โ                                                                         โ
โ  โ Todos os 5 secrets configurados                                     โ
โ                                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ PASSO 4: Testar                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                         โ
โ  GitHub Repository:                                                    โ
โ  โ Actions                                                             โ
โ  โ Playwright Tests via N8N                                            โ
โ  โ Run workflow                                                        โ
โ                                                                         โ
โ  โ Aguarde execuรงรฃo                                                    โ
โ  โ Verifique mensagem no Discord                                       โ
โ                                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


๐ O QUE ACONTECE QUANDO VOCร FAZ PUSH
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  GitHub Push/PR
        โ
  GitHub Actions dispara
        โ
  N8N Webhook recebe
        โ
  Test-Runner executa (Playwright)
        โ
  Testes rodam (login no Salesforce)
        โ
  N8N aguarda conclusรฃo
        โ
  โ SUCESSO (mensagem verde no Discord)
  โ FALHA (mensagem vermelha no Discord)


๐ EXEMPLO DE MENSAGEM DISCORD
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Testes Playwright Executados com Sucesso!

โโ Resultados dos Testes โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Status:       completed                         โ
โ Cรณdigo:       0                                 โ
โ Duraรงรฃo:      ~1 minuto                         โ
โ Mensagem:     Login bem-sucedido                โ
โ Execution ID: 67838a23-707d-448a-96e6-...      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  Powered by Playwright Test Runner


๐๏ธ PRร-REQUISITOS (VERIFICAR ANTES)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ N8N rodando:
  $ docker-compose -f n8n-workflows/docker-compose.yml up -d
  
โ Test-Runner rodando:
  $ npm run start-runner
  
โ Validar status:
  $ curl http://localhost:5678/api/v1/health
  $ curl http://localhost:9998/current-status


๐ URLS IMPORTANTES
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ท N8N Web Interface
   http://localhost:5678
   
๐ท Test-Runner API
   http://localhost:9998
   
๐ท GitHub Repository
   https://github.com/seu-usuario/seu-repo
   
๐ท Discord Server
   Seu servidor Discord (recebe mensagens automรกticas)


๐ DOCUMENTAรรO DETALHADA
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ DISCORD_SETUP.md
   โโ Como criar webhook Discord
   โโ Configurar variรกveis de ambiente
   โโ Customizar mensagens
   โโ Troubleshooting

๐ N8N_GITHUB_ACTIONS_SETUP.md
   โโ Setup passo a passo
   โโ Testar manualmente
   โโ Monitorar execuรงรฃo
   โโ Troubleshooting

๐ SETUP_FINAL_CHECKLIST.md
   โโ Checklist completo
   โโ Fluxo visual
   โโ Customizaรงรตes
   โโ Prรณximas melhorias


โก COMANDOS RรPIDOS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# Verificar N8N
curl -s http://localhost:5678/api/v1/health | ConvertFrom-Json

# Verificar Test-Runner
curl -s http://localhost:9998/current-status | ConvertFrom-Json

# Ver jobs em background
Get-Job | Where-Object Name -Like "*playwright*"

# Ver logs do test-runner
Get-Job -Id 5 | Receive-Job -Newest 50

# Testar webhook N8N
$url = "http://localhost:5678/webhook/github-tests"
$payload = @{ test = "manual" } | ConvertTo-Json
Invoke-RestMethod -Uri $url -Method Post -Body $payload -ContentType "application/json"


โจ CUSTOMIZAรรES POPULARES
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐จ Mudar cor da mensagem Discord
   No workflow N8N, edite "color": 3066993
   
๐ Adicionar notificaรงรฃo Slack
   Crie um novo nรณ HTTP com webhook Slack
   
๐ง Enviar resultado por email
   Adicione nรณ "Email" ao workflow N8N
   
๐ Agendar execuรงรตes automรกticas
   Substitua webhook por nรณ "Cron"
   
๐ Tentar novamente em falhas
   Adicione loop de retry no workflow


๐ PROBLEMAS COMUNS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Webhook N8N nรฃo funciona
   โ Verifique se workflow estรก ATIVADO
   โ Teste URL manualmente com cURL
   
โ Teste nรฃo executa
   โ Verifique se test-runner estรก rodando
   โ Verifique credenciais Salesforce
   
โ Mensagem nรฃo chega Discord
   โ Verifique URL do webhook Discord
   โ Teste webhook Discord manualmente


๐ PRรXIMA ETAPA
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Apรณs confirmar que tudo funciona:

1. Faรงa um push para GitHub
2. GitHub Actions vai disparar automaticamente
3. N8N vai executar os testes
4. Vocรช receberรก a mensagem no Discord
5. ๐ Celebre a automaรงรฃo funcionando!


๐ SUPORTE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Se algo nรฃo funcionar:

1. Verifique a documentaรงรฃo em DISCORD_SETUP.md
2. Consulte N8N_GITHUB_ACTIONS_SETUP.md
3. Execute o setup script novamente: .\\setup-env.ps1
4. Verifique os logs do N8N: http://localhost:5678
5. Verifique logs do GitHub Actions na aba Actions


โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Criado com โค๏ธ para automaรงรฃo de testes Playwright
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
""")
